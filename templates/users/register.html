{% extends 'base.html' %}

{% block title %}Registrieren - DealShare{% endblock %}

{% block extra_css %}
<style>
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 4rem 0;
        text-align: center;
    }
    
    .hero-section h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        font-weight: bold;
    }
    
    .hero-section p {
        font-size: 1.2rem;
        opacity: 0.9;
        margin-bottom: 2rem;
    }
    
    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
    }
    
    .feature-card {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
    }
    
    .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
    
    .pricing-section {
        background: #f8f9fa;
        padding: 4rem 0;
    }
    
    .pricing-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
    }
    
    .pricing-card {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        position: relative;
        transition: transform 0.3s ease;
    }
    
    .pricing-card.highlight {
        border: 3px solid #667eea;
        transform: scale(1.05);
    }
    
    .pricing-card.highlight::before {
        content: '‚≠ê Beliebt';
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        background: #667eea;
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: bold;
    }
    
    .price {
        font-size: 3rem;
        font-weight: bold;
        color: #667eea;
        margin-bottom: 0.5rem;
    }
    
    .price .currency {
        font-size: 1.5rem;
        vertical-align: top;
    }
    
    .price .period {
        font-size: 1rem;
        color: #666;
    }
    
    .features-list {
        list-style: none;
        padding: 0;
        margin: 1.5rem 0;
    }
    
    .features-list li {
        padding: 0.5rem 0;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .features-list li:last-child {
        border-bottom: none;
    }
    
    .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        padding: 1rem 2rem;
        font-weight: bold;
        transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .testimonials-section {
        background: white;
        padding: 4rem 0;
    }
    
    .testimonials-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
    }
    
    .testimonial-card {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
    }
    
    .testimonial-text {
        font-style: italic;
        margin-bottom: 1rem;
        color: #333;
    }
    
    .testimonial-author {
        font-weight: bold;
        color: #667eea;
    }
    
    .testimonial-company {
        color: #666;
        font-size: 0.9rem;
    }
    
    .registration-form {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin: 2rem 0;
    }
    
    .form-control {
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 0.75rem;
        transition: border-color 0.3s ease;
    }
    
    .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    .stats-section {
        background: #667eea;
        color: white;
        padding: 3rem 0;
        text-align: center;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
    }
    
    .stat-item {
        text-align: center;
    }
    
    .stat-number {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    
    .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <h1>üöÄ DealShare</h1>
        <p>Erstellen Sie professionelle Landingpages in Minuten, nicht in Stunden</p>
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">40%</div>
                <div class="stat-label">Mehr Abschl√ºsse</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">2 Min</div>
                <div class="stat-label">Erstellungszeit</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1000+</div>
                <div class="stat-label">Zufriedene Kunden</div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="container">
    <div class="features-grid">
        {% for feature in features %}
        <div class="feature-card">
            <div class="feature-icon">{{ feature.icon }}</div>
            <h3>{{ feature.title }}</h3>
            <p>{{ feature.description }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Pricing Section -->
<div class="pricing-section">
    <div class="container">
        <h2 class="text-center mb-4">üíé W√§hlen Sie Ihren Plan</h2>
        <div class="pricing-grid">
            {% for plan in pricing_plans %}
            <div class="pricing-card {% if plan.highlight %}highlight{% endif %}">
                <h3>{{ plan.name }}</h3>
                <div class="price">
                    <span class="currency">{{ plan.currency }}</span>{{ plan.price }}
                    <span class="period">/{{ plan.period }}</span>
                </div>
                <ul class="features-list">
                    {% for feature in plan.features %}
                    <li>‚úÖ {{ feature }}</li>
                    {% endfor %}
                </ul>
                <button class="btn btn-primary">{{ plan.cta }}</button>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Registration Form -->
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="registration-form">
                <h2 class="text-center mb-4">üéØ Jetzt kostenlos starten</h2>
                
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
                
                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="first_name" class="form-label">Vorname *</label>
                                <input type="text" class="form-control" id="first_name" name="first_name" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="last_name" class="form-label">Nachname *</label>
                                <input type="text" class="form-control" id="last_name" name="last_name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="username" class="form-label">Benutzername *</label>
                        <input type="text" class="form-control" id="username" name="username" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">E-Mail *</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="password1" class="form-label">Passwort *</label>
                        <input type="password" class="form-control" id="password1" name="password1" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="password2" class="form-label">Passwort best√§tigen *</label>
                        <input type="password" class="form-control" id="password2" name="password2" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="role" class="form-label">Rolle</label>
                        <select class="form-control" id="role" name="role">
                            <option value="viewer">Viewer</option>
                            <option value="editor">Editor</option>
                            <option value="manager">Manager</option>
                            <option value="admin">Administrator</option>
                        </select>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">
                            üöÄ Kostenlos starten
                        </button>
                    </div>
                    
                    <div class="mt-3 text-center">
                        <small class="text-muted">
                            ‚úÖ Keine Kreditkarte erforderlich ‚Ä¢ ‚úÖ 14 Tage kostenlos testen ‚Ä¢ ‚úÖ Jederzeit k√ºndbar
                        </small>
                    </div>
                </form>
                
                <div class="mt-4 text-center">
                    <p>Bereits ein Konto? <a href="{% url 'users:login' %}">Anmelden</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Testimonials Section -->
<div class="testimonials-section">
    <div class="container">
        <h2 class="text-center mb-4">üí¨ Was unsere Kunden sagen</h2>
        <div class="testimonials-grid">
            {% for testimonial in testimonials %}
            <div class="testimonial-card">
                <div class="testimonial-text">
                    "{{ testimonial.text }}"
                </div>
                <div class="testimonial-author">{{ testimonial.name }}</div>
                <div class="testimonial-company">{{ testimonial.company }}</div>
                <div class="mt-2">
                    {% for i in "12345" %}
                        {% if forloop.counter <= testimonial.rating %}
                            ‚≠ê
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="container text-center py-5">
    <h2>üéØ Bereit f√ºr mehr Abschl√ºsse?</h2>
    <p class="lead">Starten Sie noch heute und erstellen Sie Ihre erste professionelle Landingpage!</p>
    <a href="{% url 'users:pricing' %}" class="btn btn-primary btn-lg">üíé Alle Pl√§ne anzeigen</a>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Conversion-Tracking
    document.querySelector('form').addEventListener('submit', function() {
        // Google Analytics Event
        if (typeof gtag !== 'undefined') {
            gtag('event', 'sign_up', {
                'method': 'form'
            });
        }
        
        // Facebook Pixel
        if (typeof fbq !== 'undefined') {
            fbq('track', 'CompleteRegistration');
        }
    });
    
    // Pricing Card Interactions
    document.querySelectorAll('.pricing-card').forEach(card => {
        card.addEventListener('click', function() {
            const planName = this.querySelector('h3').textContent;
            const price = this.querySelector('.price').textContent;
            
            // Track pricing interaction
            if (typeof gtag !== 'undefined') {
                gtag('event', 'view_item', {
                    'currency': 'EUR',
                    'value': price.replace(/[^0-9]/g, ''),
                    'item_name': planName
                });
            }
        });
    });
    
    // Form validation
    document.getElementById('password2').addEventListener('input', function() {
        const password1 = document.getElementById('password1').value;
        const password2 = this.value;
        
        if (password1 !== password2) {
            this.setCustomValidity('Passw√∂rter stimmen nicht √ºberein');
        } else {
            this.setCustomValidity('');
        }
    });
</script>
{% endblock %} 